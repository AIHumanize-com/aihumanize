{% extends 'dashboard/main.html' %}

{% load humanize %}
{% block meta_tags %}
<title>Dashboard - AI Humanize</title>
<meta property="og:title" content="Dashboard - AI Humanize" />
<meta property="og:description"
    content="Your personal dashboard at AI Humanize. Manage your projects, settings, and access a range of AI text humanizing tools." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://aihumanize.com/dashboard/" />
<meta name="description"
    content="Access your AI Humanize Dashboard to manage your AI text humanizing projects and settings. Explore your tools and resources here." />

{% endblock %}
{% block content %}
{% load my_filters %}

<div class="container-xl">
    <div class="nk-content-inner">
        <div class="nk-content-body">
            <div class="nk-block-head nk-page-head">
                <div class="nk-block-head-between">
                    <div class="nk-block-head-content">
                        {% if user.fullname %}
                        <h2 class="display-6">Welcome {{user.fullname}} !</h2>
                        {% endif %}
                    </div>
                </div>
            </div><!-- .nk-page-head -->
            <div class="nk-block">
                <div class="row g-gs">
                    <div class="col-sm-6 col-xxl-3">
                        <div class="card card-full bg-purple bg-opacity-10 border-0">
                            <div class="card-body">
                                <div class="d-flex align-items-center justify-content-between mb-1">
                                    <div class="fs-6 text-light mb-0">Words Available</div>
                                </div>
                                <h5 class="fs-1">{{ available_words|intcomma }} <small class="fs-3">words</small></h5>
                                <div class="fs-7 text-light mt-1"><span class="text-dark">{{ used_words|intcomma }}</span>/{{ words_purchased|intcomma }}  words
                                    generated
                                </div>
                            </div>
                        </div><!-- .card -->
                    </div><!-- .col -->
                    <div class="col-sm-6 col-xxl-3">
                        <div class="card card-full bg-blue bg-opacity-10 border-0">
                            <div class="card-body">
                                <div class="d-flex align-items-center justify-content-between mb-1">
                                    <div class="fs-6 text-light mb-0">Average words</div>
                                   
                                </div>
                                <h5 class="fs-1">{{average_words_per_document}} <small class="fs-3">Words</small></h5>
                                <div class="fs-7 text-light mt-1">Average words per document</div>
                            </div>
                        </div><!-- .card -->
                    </div><!-- .col -->
                    <div class="col-sm-6 col-xxl-3">
                        <div class="card card-full bg-indigo bg-opacity-10 border-0">
                            <div class="card-body">
                                <div class="d-flex align-items-center justify-content-between mb-1">
                                    <div class="fs-6 text-light mb-0">Documents </div>
                                    <a href="{% url 'documents' %}" class="link link-indigo">See
                                        All</a>
                                </div>
                                <h5 class="fs-1">{{documents_count}} <small class="fs-3">Documents</small></h5>
                                <div class="fs-7 text-light mt-1">Every humanized text saved as document</div>
                            </div>
                        </div><!-- .card -->
                    </div><!-- .col -->
                    <div class="col-sm-6 col-xxl-3">
                        <div class="card card-full bg-cyan bg-opacity-10 border-0">
                            <div class="card-body">
                                <div class="d-flex align-items-center justify-content-between mb-1">
                                    <div class="fs-6 text-light mb-0">Current Plan</div>
                                    <a href="{% url 'pricing' %}" class="link link-cyan">See All Plans</a>
                                </div>
                                <h5 class="fs-1">{{subscription_name}}</h5>
                                <div class="fs-7 text-light mt-1">You can upgrade your plan at any time without losing any remaining words.</div>
                            </div>
                        </div><!-- .card -->
                    </div><!-- .col -->
                </div><!-- .row -->
            </div>
           <!-- here will be recent blogs -->
            <!-- .nk-block -->
            <div class="nk-block-head">
                <div class="nk-block-head-between">
                    <div class="nk-block-head-content">
                        <h2 class="display-6">Recent Documents</h2>
                    </div>
                    <div class="nk-block-head-content">
                        <a href="{% url 'documents' %}" class="link"><span>See All</span> <em
                                class="icon ni ni-chevron-right"></em></a>
                    </div>
                </div>
            </div><!-- .nk-block-head -->
            {% if documents != none %}
            <div class="nk-block">
                <div class="card">
                    <table class="table table-middle mb-0">
                        <thead class="table-light">
                            <tr>
                                <th class="tb-col tb-col-sm">
                                    <h6 class="overline-title">Name</h6>
                                </th>
                                <th class="tb-col tb-col-sm">
                                    <h6 class="overline-title">Words Count</h6>
                                </th>
                                <th class="tb-col tb-col-sm">
                                    <h6 class="overline-title">Level</h6>
                                </th>
                                <th class="tb-col tb-col-sm">
                                    <h6 class="overline-title">Purpose</h6>
                                </th>
                                <th class="tb-col tb-col-sm">
                                    <h6 class="overline-title">Readability</h6>
                                </th>
                                <th class="tb-col tb-col-sm">
                                    <h6 class="overline-title">Created at</h6>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            
                            {% for document in recent_documents %}
                            <tr>
                                <td class="tb-col">
                                    <div class="caption-text line-clamp-2">{{ document.input_text|first_eight_words }}...</div>
                                </td>
                                <td class="tb-col tb-col-sm">
                                    <div class="badge text-bg-dark-soft rounded-pill px-2 py-1 fs-6 lh-sm">{{document.words_used}}</div>
                                </td>
                                <td class="tb-col">
                                    <div class="caption-text line-clamp-2">{{ document.level }}</div>
                                </td>
                                <td class="tb-col">
                                    <div class="caption-text line-clamp-2">{{ document.purpose }}</div>
                                </td>
                                <td class="tb-col">
                                    <div class="caption-text line-clamp-2">{{ document.readibility }}</div>
                                </td>
                                <td class="tb-col tb-col-md">
                                    <div class="fs-6 text-light d-inline-flex flex-wrap gap gx-2"><span>Feb 15,2023 </span> <span>02:31
                                            PM</span></div>
                                </td>
                    
                    
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            {% else %}
            <div class="alert alert-info mt-3">No  available documents.</div>
            {% endif %}
            <!-- .nk-block -->
        </div>
    </div>
</div>

{% endblock %}